# SLMakefile.src - generate library source files
# DO NOT EDIT THIS FILE - USE "make reset" FROM BASE DIRECTORY OR
# EDIT THE USER FILES Makefile.control AND Makefile.user
######################################################################
ifeq ($(EMPTY),$(strip $(BASE_DIR)))
include ../*.config
endif
#
.PHONY: all clean test install
#
VERSION := "$Id: Makefile,v 1.6 1997/12/22 17:48:15 tull Exp $"
# 
PAMTYPE := PAM
ASPTYPE := ASP
PKG := $(BASE_NAME)
# 
ifeq ($(PKGTYPE),$(PAMTYPE))
all: $(PKG)_init.cc
endif
#
ifeq ($(PKGTYPE),$(ASPTYPE))
all:
endif
#
#-- Include files
include $(SLM_DIR)/cdf.mk
include $(SLM_DIR)/idl.mk
include $(SLM_DIR)/$(ARCH).mk
#
JUNK := *.o *.d core *.hh *.h *.inc
clean: cdf_clean idl_clean
	rm -f $(JUNK)
#
test:
	@echo "########################################################"
	@echo "###         No IDL files should show up here:        ###"
	@echo "########################################################"
	@-egrep -l struct *.idl
	@echo "########################################################"
	@echo "###        All IDL files should show up here:        ###"
	@echo "########################################################"
	@-egrep -l interface *.idl
	@echo "########################################################"
	@echo "###      The following commands should be known:     ###"
	@echo "########################################################"
	@-which pamiGen
	@-which kuipc
	@echo "########################################################"
	@echo "###    The following variables should make sense:    ###"
	@echo "########################################################"
	@echo " CPPFLAGS = " $(CPPFLAGS)
	@echo "  INCDIRS = " $(INCDIRS)
	@echo "########################################################"
	@echo "###                    Test done.                    ###"
	@echo "########################################################"
#
install:
#
#-- Lifecycle routines for analysis module package
%_init.cc: $(wildcard $(SRCDIR)/*.idl)
	pamiGen $(*F) $^ > $@
#
Makefile: $(SLM_DIR)/SLMakefile.src
	cp $< $@
#
