/*:>--------------------------------------------------------------------
**: FILE:       pamc.c.template
**: HISTORY:
**:             24sep96-v000a-cet- Created by stic Version
**:   Id: idl.y,v 1.5 1996/09/24 18:07:08 tull Exp  
**:<------------------------------------------------------------------*/

/*- MACROS -*/
#define MAX(A,B) (A>B ? A : B)
#define MIN(A,B) (A<B ? A : B)

#include "pamc.h"

/*- PROTOTYPES -*/
extern int ds2ReallocTable(TABLE_HEAD_ST** ppHead,char** ppData
		, size_t newCount);
int ds2reallloctable_(TABLE_HEAD_ST** ppHead,char** ppData
                , size_t newCount);

long pamc_(
  TABLE_HEAD_ST             *t1_h,        SCALARS_ST               *t1 ,
  TABLE_HEAD_ST             *t2_h,        VECTORS_ST               *t2 )
{
/*:>--------------------------------------------------------------------
**: ROUTINE:    pamc_
**: DESCRIPTION: Physics Analysis Module ANSI C template.
**:             This is an ANSI C Physics Analysis Module template
**:             automatically generated by stic from pamc.idl.
**:             Please edit comments and code.
**: AUTHOR:     cet - C.E. Tull, cetull@lbl.gov
**: ARGUMENTS:
**:       IN:
**:    INOUT:
**:                 t2    - Table 2
**:                t2_    - header Structure for t2
**:      OUT:
**:                 t1    - Table 1
**:                t1_    - header Structure for t1
**: RETURNS:    STAF Condition Value
**:>------------------------------------------------------------------*/

int i,j;

printf("########################################\n");
printf("###  pamc - fill tables \n");
printf("########################################\n");

if( !(0 < t1_h->maxlen) ){
  ds2ReallocTable(&t1_h,(char**)&t1,100);
  t1_h->maxlen = 100;
  t1_h->nok = 10;
}
if( !(0 < t2_h->maxlen) ){
  ds2ReallocTable(&t2_h,(char**)&t2,10);
  t2_h->maxlen = 10;
  t2_h->nok = 10;
}

printf(" name = (%20s) nok = (%d) maxlen = (%d)\n"      /*IGNORE*/
        ,t1_h->name,t1_h->nok,t1_h->maxlen);            /*IGNORE*/
printf(" name = (%20s) nok = (%d) maxlen = (%d)\n"      /*IGNORE*/
        ,t2_h->name,t2_h->nok,t2_h->maxlen);            /*IGNORE*/

  for(i=0;i<(t1_h->nok);i++){
     t1[i].aShort = i;
     t1[i].aUshort = i;
     t1[i].aLong = i;
     t1[i].aUlong = i;
     t1[i].aChar = '-';
     t1[i].aOctet = i;
     t1[i].aFloat = i;
     t1[i].aDouble = i;
  }
  for(i=0;i<(t2_h->nok);i++){
     for(j=0;j<3;j++){
	t2[i].bShorts[j] = i+j;
	t2[i].bUshorts[j] = i+j;
	t2[i].bLongs[j] = i+j;
	t2[i].bUlongs[j] = i+j;
	t2[i].bChars[j] = '-';
	t2[i].bOctets[j] = i+j;
	t2[i].bFloats[j] = i+j;
	t2[i].bDoubles[j] = i+j;
     }
  }

  return STAFCV_OK;
}

